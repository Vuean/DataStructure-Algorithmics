# 第二章 线性表

## 2.1 线性表的定义和特点

**线性表是具有相同特性的数据元素的一个有限序列**。

> 线性表(Linear List)：

由n(n ≥ 0)个数据元素（结点）a1, a2, ... an组成的**有限序列**。

- 其中数据元素的个数n定义为表的**长度**

- 当n=0时称为**空表**

- 将非空的线性表(n>0)记作：(a1, az, ... an)

- 这里的数据元素ai(1≤i≤n)只是一个抽象的符号，其具体含义在不同的情况下可以不同。

> 线性表的逻辑特征

- 在非空的线性表，有且仅有一个开始结点a1，它没有直接前趋，而仅有一个直接后继a2；

- 有且仅有一个终端结点an，它没有直接后继，而仅有一个直接前趋an-1；

- 其余的内部结点ai(2≤i≤n-1)都有且仅有一个直接前趋ai-1和一个直接后继ai+1。

## 2.2 案例引入

> 顺序存储结构存在问题

- 存储空询分配不灵活

- 运算的空间复杂度高

> 总结

- 线性表中的数据元素的类型可以为**简单类型**，也可以为**复杂类型**

- 许多实际应用问题所涉的基本操作有很大相似性，不应为每个具体应用单独编写一个程序

- 从具体应用中抽象出共性的**逻辑结构和基本操作**（抽象数据类型），然后实现其**存储结构和基本操作**

## 2.3 线性表的定义

> 基本操作

- InitList(&L)

  - 操作结果：构造一个空的线性表L

- DestoryList(&L)

  - 初始条件：线性表L已存在

  - 操作结果：销毁线性表L

- ClearList(&L)

  - 初始条件：线性表L已存在

  - 操作结果：将线性表L重置为空表

- ListEmpty(L)

  - 初始条件：线性表L已存在

  - 操作结果：若线性表L空表则返回TURE；否则返回FALSE。

- ListLength(L)

  - 初始条件：线性表L已存在

  - 操作结果：返回线性表L中的数据元素个数。

- GetElem(L, i, &e)

  - 初始条件：线性表L已存在，1 <= i <= ListLength(L)

  - 操作结果：用e返回线性表L中第个数据元素的值。

- LocateElem(L, e, compare())

  - 初始条件：线性表L已存在，compare()是数据元素判定函数

  - 操作结果：返回L中第1个与e满足compare()的数据元素的位序。若这样的数据元素不存在则返回值为0。

- PriorElem(L, cur_e, &pre_e)

  - 初始条件：线性表L已存在

  - 操作结果：若cur_e是L的数据元素，且不是第一个，则用pre_e返回它的前驱，否则操作失败；pre_e无意义。

- NextElem(L, cur_e, &next_e)

  - 初始条件：线性表L已存在

  - 操作结果：若cur_e是L的数据元素，且不是第最后个，则用next_e返回它的后继，否则操作失败，next_e无意义。

- ListInsert(&L, i, e)

  - 初始条件：线性表L已存在，1 <= i <= ListLength(L)+1

  - 操作结果：在L的第i个位置**之前**插入新的数据元素e，L的长度加一。

- ListDelete(&L, i, &e)

  - 初始条件：线性表L已存在，1 <= i <= ListLength(L)

  - 操作结果：删除L的第i个数据元素，并用e返回其值，L的长度减一。

- ListTraverse(&L, visited())   // 遍历

  - 初始条件：线性表L已存在

  - 操作结果：依次对线性表中每个元素调用visited()。

## 2.4 线性表的顺序表示和实现

### 2.4.1 线性表的顺序存储表示

线性表的顺序表示又称为**顺序存储结构**或**顺序映像**。

顺序存储定义：把**逻辑上相邻的数据元素**存储在**物理上相邻的存储单元**中的存储结构。

线形表顺序存储结构占用**一片续的存储空间**。知道某个元素的存储位置就可以计算其他元素的存储位置。

> 数组静态分配

```C++
  typedef struct{
    ElemType data[MaxSize];
    int length;
  } SqList; // 顺序表类型
```

数组存放的是第一个元素的地址，因此也可以写成以下动态分配形式，用指针代替第一个元素地址。

> 数组动态分配

```C++
  typedef struct{
    ElemType *data;
    int length;
  } SqList; // 顺序表类型
```

```C++
  SqList L;
  L.data = (ElemType*)malloc(sizeof(ElemType) * MaxSize);
```

在头文件stdlib.h中：

malloc(m)函数，开辟m字节长度的地址空间，并返回这段空间的首地址。

free(p)函数，释放指针p所指变量的存储空间，即彻底删除一个变量。

## 2.5 线性表的链式表示和实现

## 2.6 顺序表和链式表的比较

## 2.7 线性表的应用

## 2.8 案例分析与实现
